  
  
- [建筑](#建筑 )
  - [总览表](#总览表 )
  - [机制设计](#机制设计 )
    - [建筑建造](#建筑建造 )
    - [建筑修理](#建筑修理 )
    - [建筑升级](#建筑升级 )
  - [详细设计](#详细设计 )
    - [住房](#住房 )
      - [升级](#升级 )
    - [仓库](#仓库 )
      - [升级](#升级-1 )
  
#  建筑
  
  
##  总览表
  
  
| 建筑名称   | 建筑造价 | 建筑耗时 | 建造条件                                            | 建筑功能                                         | 是否可升级 |
| ---------- | -------- | -------- | --------------------------------------------------- | ------------------------------------------------ | ---------- |
| **住房**   | 5金      | 10s      | 无                                                  | 提高人口上限                                     | 是         |
| **铁匠铺** | 10金     | 15s      | 完成科技<span style="color:#4EC5F1">手工业</span>   | 提高单位攻击力、防御力                           | 是         |
| **仓库**   | 20金     | 15s      | 完成科技<span style="color:#4EC5F1">行政机构</span> | 缩短采集路程                                     | 是         |
| **农庄**   | 30金     | 25s      | 完成科技<span style="color:#4EC5F1">农学</span>     | 每过一段时间生成一定的食物                       | 是         |
| **矿场**   | 30金     | 30s      | 完成科技<span style="color:#4EC5F1">矿井勘探</span> | 每过一段时间生成一定的黄金                       | 是         |
| **兵营**   | 20金     | 15s      | 完成科技<span style="color:#4EC5F1">军功制</span>   | 为步兵系单位生产提供增益                         | 是         |
| **靶场**   | 20金     | 15s      | 完成科技<span style="color:#4EC5F1">复合弓</span>   | 为弓弩系单位生产提供增益                         | 是         |
| **马厩**   | 20金     | 15s      | 完成科技<span style="color:#4EC5F1">马匹育种</span> | 为骑兵系单位生产提供增益                         | 是         |
| **兵工厂** | 20金     | 15s      | 完成科技<span style="color:#4EC5F1">军事技术</span> | 为攻城武器系与火药系单位生产提供增益             | 是         |
| **学院**   | 20金     | 15s      | 完成科技<span style="color:#4EC5F1">教育</span>     | 为科技研发提供增益                               | 是         |
| **拒马**   | 5金      | 8s       | 完成科技<span style="color:#4EC5F1">军事工程</span> | 吸引火力，阻挡敌方进攻。                         | 是         |
| **驻防点** | 5金      | 8s       | 完成科技<span style="color:#4EC5F1">复合弓</span>   | 弓弩系单位与火药系单位可以驻扎在驻防点进行射击。 | 是         |
  
***
  
##  机制设计
  
  
###  建筑建造
  
  
地图的三条路上有多个建筑槽位，在游戏开始时均为空闲状态。  
玩家可以在空闲的建筑槽位建造建筑，确定进行建造后建筑槽位将由空闲状态转为占用状态。建造建筑需要花费一定的黄金并等待一定的时间，这段过程称为**建造过程**，建筑必须在建成后才能起效。
  
建筑拥有防御力与HP，一旦HP归零视为建筑被摧毁，其能提供的所有效果将全部消失，建筑槽位将回归空闲状态。  
通过**修理**可以将建筑的HP回满。  
  
玩家可以主动**拆除**建筑，这样将可以将占用的建筑槽位空出，视为建筑被摧毁。拆除过程是瞬间的。
  
!!! warning 注意  .
    - 升级建筑无法将建筑的HP回满，但是若升级会提高建筑的HP上限，则建筑的当前HP也会按照比例提高。
    - 当玩家开始建造建筑时，建筑的HP即为满格建造过程中的建筑可以被摧毁。
  
!!! tip 提示
    游戏的不同时期需要的建筑也许会有不同，因此玩家可能需要根据战场形势主动拆除建筑。   
  
  
###  建筑修理
  
  
当建筑的HP不为满格时，玩家使建筑进入修复状态。  
在建筑进入修复状态时，其每过<img src="https://latex.codecogs.com/gif.latex?s_{k}"/>时间，就会增长<img src="https://latex.codecogs.com/gif.latex?h_{k}"/>点HP，同时耗费<img src="https://latex.codecogs.com/gif.latex?c_{k}"/>点**食物**。其中，<img src="https://latex.codecogs.com/gif.latex?h_{k}"/>与生产力有关。  
建筑HP回满时，建筑自动退出修复状态，玩家也可以手动选择退出修复状态。
  
!!! warning 注意
    若建筑在修复时玩家食物耗尽，建筑将不会回复HP，但其仍然将保持修复状态；这种“停滞”的修复状态直到食物重新满足需求才能恢复正常。
  
!!! tip 提示
    玩家可以通过对处于修复状态的建筑进行长期骚扰拖垮对方的经济。   
  
###  建筑升级
  
  
一个建筑可以向多个方向升级，不同方向的升级可以共存。
  
建筑一旦被建成，即为其所有升级方向的**LV.1**。下文图表中**LV.1**的造价即为建筑的建造造价。*也就是说，对于同一建筑，其所有升级方向的LV.1的造价都相同*。
  
!!! example 示例
    如玩家在升级住房时可以选择向**工人人口**升级或**军事人口**升级，每次只能向一个方向升一级，消耗的资源和时间为目标等级的对应花销。
    两个方向的升级可以共存，如住房可以同时为**LV.2 工人人口** + **LV.3 军事人口**。
  
***
  
##  详细设计
  
  
###  住房
  
  
`经济类建筑`
  
住房建成后，可以为玩家增加人口上限。
  
  
####  升级
  
  
住房具有两个方向的升级。
  
| 升级方向     | LV1 | LV2 | LV3 | LV4 | LV5 |
| ------------ | --- | --- | --- | --- | --- |
| **工人人口** | +3  | +2  | +2  | +2  | +5  |
| **军事人口** | +10 | +5  | +5  | +5  | +15 |
  
不同升级的花销：
  
| 升级方向     | LV1         | LV2        | LV3        | LV4        | LV5         |
| ------------ | ----------- | ---------- | ---------- | ---------- | ----------- |
| **工人人口** | (5金 + 10s) | (2金 + 5s) | (2金 + 5s) | (2金 + 5s) | (5金 + 15s) |
| **军事人口** | (5金 + 10s) | (2金 + 5s) | (2金 + 5s) | (2金 + 5s) | (5金 + 15s) |
  
升级能提供的基本数值属性增益：
| 升级方向     | LV1 | LV2      | LV3      | LV4      | LV5      |
| ------------ | --- | -------- | -------- | -------- | -------- |
| **工人人口** | --  | + 10% HP | + 10% HP | + 10% HP | + 13% HP |
| **军事人口** | ^  | + 10% HP | + 10% HP | + 10% HP | + 13% HP |
  
###  仓库
  
  
`经济类建筑`
  
!!! note 解锁路线
    ``` mermaid
    flowchart LR
        A[手推车] --> D[水利]:::notmain;
        A --> B["行政机构"]:::target;
        A --> C[采矿]:::notmain;
        D --> E[农学]:::notmain;
        C --> I[矿井勘探]:::notmain;
        B --> E ---> d0((...)):::notmain;
        B --> J[教育]:::notmain---> d1((...)):::notmain;
        B --> I---> d2((...)):::notmain;
    classDef notmain fill:#d1d1d1, stroke:#707070;
    classDef target fill:#fad866, stroke:#c16b1f;
    ```
  
工人可以在采集完成后将物资直接送到仓库进行卸货，而不需要返回基地。
  
仓库可以容纳所有资源的存储，尽管它只供其所在路上的工人使用。
  
!!! example 示例
    譬如，玩家将仓库建设在了上路，则只有在上路工作的工人才能将资源放置在上路的仓库中。
  
仓库建成后，对于正在返回路程中的工人，并不会将返回目的地立即移动至仓库，而是在仓库和基地中取**距离自己最近的点位**作为自己当前返回的目的地，也就是说，无论仓库何时建成，工人都能自动选择最合适的卸货点。
  
!!! tip 提示
    当一条路上建有多个仓库时，工人只认最新建成的仓库。  
    仓库被摧毁后，工人会将资源卸载至该仓库建成前的资源卸载点。
  
####  升级
  
  
仓库只有一个方向的升级。
  
| 升级方向     | LV1 | LV2   | LV3   | LV4   | LV5 |
| ------------ | --- | ----- | ----- | ----- | --- |
| **卸货速度** | --  | -2.5% | -2.5% | -2.5% | -5% |
  
不同升级的花销：
  
| 升级方向     | LV1         | LV2        | LV3        | LV4        | LV5         |
| ------------ | ----------- | ---------- | ---------- | ---------- | ----------- |
| **卸货速度** | (6金 + 10s) | (2金 + 5s) | (2金 + 5s) | (2金 + 5s) | (2金 + 10s) |
  
升级能提供的基本数值属性增益：
| 升级方向     | LV1 | LV2      | LV3      | LV4      | LV5               |
| ------------ | --- | -------- | -------- | -------- | ----------------- |
| **卸货速度** | --  | + 10% HP | + 10% HP | + 10% HP | + 5% 防御力 +5%HP |
  
  